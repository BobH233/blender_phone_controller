<!DOCTYPE html>
<html>
<head>
    <title>Blender WebSocket</title>
    <script>
        var ws;

        function startWebSocket() {
            ws = new WebSocket('ws://0.0.0.0:5678/');
            ws.onopen = function () {
                console.log('WebSocket connection opened');
                requestGyroscope();
            };
            ws.onmessage = function (event) {
                console.log('Received:', event.data);
            };
        }

        function requestGyroscope() {
            if (window.DeviceOrientationEvent) {
                window.addEventListener('deviceorientation', function(event) {
                    var alpha = event.alpha;
                    var beta = event.beta;
                    var gamma = event.gamma;
                    var data = JSON.stringify({ alpha: alpha, beta: beta, gamma: gamma });
                    ws.send(data);
                });
            } else {
                alert('Your device does not support gyroscope.');
            }
        }

        window.onload = startWebSocket;
    </script>
</head>
<body>
    <h1>Blender WebSocket Gyroscope</h1>
</body>
</html>
